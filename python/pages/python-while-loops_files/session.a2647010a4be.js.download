!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e8695d78-52bf-41db-913f-d47925c7c518",e._sentryDebugIdIdentifier="sentry-dbid-e8695d78-52bf-41db-913f-d47925c7c518")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"90c569904e35f12c37efe24c6637a6a7f9bae505"},function(){"use strict";const e=AbortSignal.timeout||function(e){const t=new AbortController;return setTimeout((()=>t.abort(new Error("TimeoutError"))),e),t.signal};class t extends Error{constructor(e,t){super(e),this.name="AjaxError",this.statusCode=t}}let n=()=>{};const o="rpsession-ping";var s,r=null,i=null,a=0;function d(){return-(new Date).getTimezoneOffset()}function c(){return window.scrollY}function u(){return"visible"===document.visibilityState}function l(s){if(n("sendSessionHeartbeatIfNeeded",o,s),!s&&!u()&&!i)return void n("Document is hidden, not sending session heartbeat");const l=c(),f=l!==r;n("sendSessionHeartbeatIfNeeded",l,r,f,i);const m=(new Date).getTime(),g=function(){try{let e=parseInt(localStorage.getItem(o),10);if(Number.isNaN(e))throw Error("NaN");return n("getLastSyncTime",e,"(localStorage)"),e}catch(e){return n("getLastSyncTime",a,"(in-memory)"),a}}();(f||i||0==g)&&(s||m-g>=12e4||0===g)?(s?function(){const e={tzoffset:d()};n("sendSessionHeartbeatBeacon ping",e),navigator.sendBeacon("/api/v1/session/",JSON.stringify(e))}():function(){const o={tzoffset:d()};var s;n("sendSessionHeartbeat ping",o),s={url:"/api/v1/session/",data:o,onError:e=>{n(e)},onSuccess:e=>{n(e)}},fetch(s.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var s=n[o].trim();if(s.substring(0,10)===e+"="){t=decodeURIComponent(s.substring(10));break}}return t}("csrftoken")},credentials:"same-origin",signal:e(s.timeout||3e4),body:s.data?JSON.stringify(s.data):""}).then((e=>{if(!e.ok)throw new t(e.statusText,e.status);return 204===e.status?{}:e.json()})).then((e=>{s.onSuccess&&s.onSuccess(e)})).catch((e=>{s.onError&&s.onError(e)}))}(),r=c(),i=!1,function(e){n("setLastSyncTime",e),a=e;try{localStorage.setItem(o,e),n("setLastSyncTime: updated localStorage")}catch(e){n("setLastSyncTime: updated in-memory only")}}(m)):n("Not sending session heartbeat",m,g)}function f(){i=!0}s=()=>{l(!1),setInterval((()=>l(!1)),1e4),addEventListener("mousemove",f),addEventListener("mousedown",f),addEventListener("touchstart",f),addEventListener("keydown",f),navigator.sendBeacon&&addEventListener("visibilitychange",(()=>{u()||l(!0)}))},"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?s():document.addEventListener("DOMContentLoaded",s)}();

