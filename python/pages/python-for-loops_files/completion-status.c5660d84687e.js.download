!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="d931a803-66cc-4202-bfb2-265998117f27",t._sentryDebugIdIdentifier="sentry-dbid-d931a803-66cc-4202-bfb2-265998117f27")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"90c569904e35f12c37efe24c6637a6a7f9bae505"},function(){"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var o=s.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../../"}();function e(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function s(t,...s){const i=document.createElement("template"),n=Math.random().toString(36).slice(2),a=`slot-${n}`,r=`data-event-${n}`;let l=[],c=[],d=[];const u=(t,s)=>{l.push(t),s instanceof Node||s instanceof DocumentFragment||s instanceof HTMLTemplateElement?(l.push(`<${a}></${a}>`),c.push(s)):s instanceof o?l.push(String(s)):Array.isArray(s)?s.forEach((t=>u("",t))):"object"==typeof s&&null!==s&&"type"in s&&"event"===s.type?(l.push(` ${r}`),d.push(s)):null!=s&&l.push(e(String(s)))};return t.forEach(((t,e)=>u(t,s[e]))),i.innerHTML=l.join("").trim(),i.content.querySelectorAll(a).forEach((t=>{const e=c.shift();t.parentNode.replaceChild(e,t)})),i.content.querySelectorAll(`[${r}]`).forEach((t=>{const e=d.shift();t.removeAttribute(r),t.addEventListener(e.name,e.handler)})),1===i.content.childNodes.length?i.content.firstChild:i.content}class o{constructor(t){this.value=t}toString(){return this.value}}function i(t){return new o(t)}class n{constructor(t){this.type=t.type||"info",this.text=t.text||"",this.timeout=t.timeout||3e3,this.progressBar=void 0===t.progressBar||t.progressBar,this.progressBar=!1,this.sounds=t.sounds||null;let e=s`<div class="notification-container user-select-none shadow-md"></div>`;this.element=s`<div
      class="notification alert alert-${this.type} animate__animated shadow my-0"
      role="alert"
    ></div>`,this.element.innerHTML=this.text,this.progressBar&&(this.progressElement=s`<div
        class="notification-progress rounded mt-1"
        style="transition: width ${this.timeout}ms linear;"
      ></div>`,this.element.appendChild(this.progressElement)),e.appendChild(this.element),document.body.appendChild(e)}show(){this.timeout,this.sounds&&this.sounds.sources&&this.sounds.sources.length>0&&this.playSound(),this.element.classList.add("animate__bounceInRight"),this.progressBar&&setTimeout((()=>this.progressElement.classList.add("animating")),100),setTimeout((()=>this.hide()),this.timeout)}hide(){this.element.classList.replace("animate__bounceInRight","animate__bounceOutRight"),setTimeout((()=>this.element.remove()),this.timeout)}playSound(){const t=new Audio;for(let e of this.sounds.sources){const s=e.split(".").pop().toLowerCase();if(t.canPlayType(`audio/${s}`)){t.src=e,t.volume=this.sounds.volume||1,t.play().catch((t=>{}));break}}}}const a=AbortSignal.timeout||function(t){const e=new AbortController;return setTimeout((()=>e.abort(new Error("TimeoutError"))),t),e.signal};class r extends Error{constructor(t,e){super(t),this.name="AjaxError",this.statusCode=e}}function l(t){fetch(t.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":function(t){var e=null;if(document.cookie&&""!==document.cookie)for(var s=document.cookie.split(";"),o=0;o<s.length;o++){var i=s[o].trim();if(i.substring(0,10)===t+"="){e=decodeURIComponent(i.substring(10));break}}return e}("csrftoken")},credentials:"same-origin",signal:a(t.timeout||3e4),body:t.data?JSON.stringify(t.data):""}).then((t=>{if(!t.ok)throw new r(t.statusText,t.status);return 204===t.status?{}:t.json()})).then((e=>{t.onSuccess&&t.onSuccess(e)})).catch((e=>{t.onError&&t.onError(e)}))}function c(t,s={}){const o=JSON.parse(document.getElementById("icons-data").textContent).iconsUrl,n=t.split("/").join("--"),a=s.scale;let r="";if(a){if(!["2x","3x","4x","5x"].includes(a))throw new Error(`Invalid icon scale factor: ${a}`);r=`scale${a}`}const l=["icon",void 0===s.baseline||s.baseline?"baseline":"",r,s.class||""].filter(Boolean).join(" "),c=s.title||"";return i(`<span class="${l}"${c?"":' aria-hidden="true"'}><svg ${c?'role="img"':'aria-hidden="true"'}><use href="${o}#${n}" /></svg>${c?`<span class="sr-only">${e(c)}</span>`:""}</span>`)}function d(t,e={}){const o=JSON.parse(document.getElementById("icons-data").textContent).iconsUrl,n=t.split("/").join("--"),a=e.scale;let r="";if(a){if(!["2x","3x","4x","5x"].includes(a))throw new Error(`Invalid icon scale factor: ${a}`);r=`scale${a}`}const l=["icon",void 0===e.baseline||e.baseline?"baseline":"",r,e.class||""].filter(Boolean).join(" "),c=e.title||"";return s`<span class="${l}" ${c?"":i(' aria-hidden="true"')}>
    <svg ${i(c?'role="img"':'aria-hidden="true"')}>
      <use href="${o}#${n}" />
    </svg>
    ${c?s`<span class="sr-only">${c}</span>`:""}
  </span>`}var u=t.p+"sounds/lesson_completed154f85c297e1f33e47b0293f46a77043.mp3",h=t.p+"sounds/lesson_completedff7b41146dfa6edda12c77e3c90bf6ab.ogg",p=t.p+"sounds/lesson_completed692fa2469e3ac02a1ea0a8c781682d10.wav";class m{#t=new Map;#e;constructor(t){this.#e=new BroadcastChannel(t),this.#e.onmessage=t=>{this.#s(t.data.type,t.data.detail)}}subscribe(t,e){this.#t.has(t)||this.#t.set(t,new Set),this.#t.get(t).add(e)}unsubscribe(t,e){this.#t.has(t)&&this.#t.get(t).delete(e)}publish(t,e){this.#s(t,e),this.#e.postMessage({type:t,detail:e})}#s(t,e){this.#t.has(t)&&this.#t.get(t).forEach((t=>t(e)))}}let k;class b extends HTMLElement{#o;#i;#n;#a;constructor(){super(),this.#n={isBusy:!1,isCompleted:!1,isBookmarked:!1}}connectedCallback(){this.constructor.name,k||(k=new m(`article-completion-status-${this.dataset.articleSlug}`)),this.#o=this.querySelector("[data-target-complete-button]"),this.#i=this.querySelector("[data-target-bookmark-button]"),this.#i.addEventListener("click",this.#r),this.#o.addEventListener("click",this.#l),this.#n.isCompleted=this.hasAttribute("completed"),this.#n.isBookmarked=this.hasAttribute("bookmarked"),this.#a=this.hasAttribute("paywall-preview"),this.#c(),k.subscribe("completionUpdate",this.#d),k.subscribe("bookmarkUpdate",this.#u)}disconnectedCallback(){k.unsubscribe("completionUpdate",this.#d),k.unsubscribe("bookmarkUpdate",this.#u)}#c(){this.#o.disabled=this.#n.isBusy,this.#i.disabled=this.#n.isBusy,this.#n.isCompleted?(this.#o.title="Click to mark as in-progress",this.#o.replaceChildren(s`<span class="text-success">${d("@check")} Completed</span>`),this.setAttribute("completed","")):(this.#o.title="Click to mark as completed",this.#o.replaceChildren(s`Mark as Completed`),this.removeAttribute("completed")),this.#n.isBookmarked?(this.#i.title="Remove bookmark",this.#i.replaceChildren(d("solid/bookmark",{class:"text-info"})),this.setAttribute("bookmarked","")):(this.#i.title="Add bookmark",this.#i.replaceChildren(d("light/bookmark")),this.removeAttribute("bookmarked"))}#h(t){this.#n.isBusy=t,this.#c()}#p(t){this.#a?this.#m(this.dataset.paywallPreviewUrl):(this.#h(!0),l({url:`${this.dataset.apiArticleCompletionStatusUrl}?completed=${t?"1":"0"}`,onError:t=>{this.#h(!1),403===t.statusCode?this.#m("/account/signup/?intent=article_completion"):this.#k()},onSuccess:t=>{this.#n.isCompleted=t.completed,this.#h(!1),k.publish("completionUpdate",{isCompleted:t.completed}),t.completed&&this.#b()}}))}#f(t){this.#a?this.#m(this.dataset.paywallPreviewUrl):(this.#h(!0),l({url:`${this.dataset.apiArticleBookmarkUrl}?bookmarked=${t?"1":"0"}`,onError:t=>{this.#h(!1),403===t.statusCode?this.#m("/account/signup/?intent=article_bookmark"):this.#k()},onSuccess:t=>{this.#n.isBookmarked=t.bookmarked,this.#h(!1),k.publish("bookmarkUpdate",{isBookmarked:t.bookmarked}),t.bookmarked&&this.#g()}}))}#m(t){this.#h(!1),window.location.href=t}#b(){new n({type:"success",text:`<span class="h4">${c("@check",{class:"mr-2"})}Article Completed!</span>`,layout:"bottom",theme:"bootstrap-v4",timeout:3e3,progressBar:!0,sounds:{sources:[u,h,p],volume:.2,conditions:["docVisible","docHidden"]}}).show()}#g(){new n({type:"info",text:`<span class="h4">${c("solid/bookmark",{class:"mr-2"})}Article Bookmarked</span>`,layout:"bottom",theme:"bootstrap-v4",timeout:2e3,progressBar:!0}).show()}#k(){new n({type:"danger",text:`<span class="h4">${c("solid/cloud-exclamation",{class:"mr-2"})}Request Failed :(</span>`,layout:"bottom",theme:"bootstrap-v4",timeout:2e3,progressBar:!0}).show()}#l=()=>{this.#p(!this.#n.isCompleted)};#r=()=>{this.#f(!this.#n.isBookmarked)};#d=t=>{this.#n.isCompleted=t.isCompleted,this.#c()};#u=t=>{this.#n.isBookmarked=t.isBookmarked,this.#c()}}customElements.define("completion-status",b)}();

